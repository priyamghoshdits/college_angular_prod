"use strict";
(self["webpackChunkRUDKARSH"] = self["webpackChunkRUDKARSH"] || []).push([["default-src_app_shared_services_support-ticket_service_ts"],{

/***/ 52109:
/*!******************************************************!*\
  !*** ./src/app/shared/data/tables/support-ticket.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SUPPORTDB: () => (/* binding */ SUPPORTDB)
/* harmony export */ });
const SUPPORTDB = [{
  img: "assets/images/user/1.jpg",
  name: "Tiger",
  position: "System Architect",
  salary: "$320,800",
  office: "Edinburgh",
  skill: "progress-bar custom-progress-width bg-danger w-70",
  progress: "70%",
  extn: 5421,
  email: "t.nixon@datatables.net"
}, {
  img: "assets/images/user/2.png",
  name: "Tiger",
  position: "System Architect",
  salary: "$320,800",
  office: "Edinburgh",
  skill: "progress-bar custom-progress-width bg-secondary w-20",
  progress: "20%",
  extn: 5421,
  email: "t.nixon@datatables.net"
}, {
  img: "assets/images/user/3.jpg",
  name: "Garrett Winters",
  position: "Accountant",
  salary: "$170,750",
  office: "Tokyo",
  skill: "progress-bar custom-progress-width bg-success w-50",
  progress: "50%",
  extn: 8422,
  email: "g.winters@datatables.net"
}, {
  img: "assets/images/user/4.jpg",
  name: "Garrett Winters",
  position: "Accountant",
  salary: "$170,750",
  office: "Tokyo",
  skill: "progress-bar custom-progress-width bg-primary w-45",
  progress: "45%",
  extn: 8422,
  email: "g.winters@datatables.net"
}, {
  img: "assets/images/user/5.jpg",
  name: "Garrett Winters",
  position: "Accountant",
  salary: "$170,750",
  office: "Tokyo",
  skill: "progress-bar custom-progress-width bg-danger w-57",
  progress: "57%",
  extn: 8422,
  email: "g.winters@datatables.net"
}, {
  img: "assets/images/user/6.jpg",
  name: "Ashton Cox",
  position: "Junior Technical Author",
  salary: "$86,000",
  office: "San Francisco",
  skill: "progress-bar custom-progress-width bg-success w-100",
  progress: "100%",
  extn: 1562,
  email: "a.cox@datatables.net"
}, {
  img: "assets/images/user/7.jpg",
  name: "Cedric Kelly",
  position: "Senior Javascript Developer",
  salary: "$433,060",
  office: "San Francisco",
  skill: "progress-bar custom-progress-width bg-secondary w-35",
  progress: "35%",
  extn: 6224,
  email: "c.kelly@datatables.net"
}, {
  img: "assets/images/user/8.jpg",
  name: "Cedric Kelly",
  position: "Senior Javascript Developer",
  salary: "$433,060",
  office: "San Francisco",
  skill: "progress-bar custom-progress-width bg-secondary w-76",
  progress: "76%",
  extn: 6224,
  email: "c.kelly@datatables.net"
}, {
  img: "assets/images/user/9.jpg",
  name: "Airi Satou",
  position: "Accountant",
  salary: "$162,700",
  office: "Tokyo",
  skill: "progress-bar custom-progress-width bg-success w-20",
  progress: "20%",
  extn: 5407,
  email: "a.satou@datatables.net"
}, {
  img: 'assets/images/user/10.jpg',
  name: "Airi Satou",
  position: "Integration Specialist",
  salary: "$372,000",
  office: "New York",
  skill: "progress-bar custom-progress-width bg-info w-30",
  progress: "30%",
  extn: 4804,
  email: "b.williamson@datatables.net"
}, {
  img: "assets/images/user/1.jpg",
  name: "Herrod Chandler",
  position: "Sales Assistant",
  salary: "$137,500",
  office: "San Francisco",
  skill: "progress-bar custom-progress-width bg-warning w-60",
  progress: "60%",
  extn: 9608,
  email: "h.chandler@datatables.net"
}, {
  img: 'assets/images/user/5.jpg',
  name: "Rhona Davidson",
  position: "Integration Specialist",
  salary: "$327,900",
  office: "Tokyo",
  skill: "progress-bar custom-progress-width bg-secondary w-50",
  progress: "50%",
  extn: 6200,
  email: "r.davidson@datatables.net"
}, {
  img: "assets/images/user/1.jpg",
  name: "Colleen Hurst",
  position: "Javascript Developer",
  salary: "$205,500",
  office: "San Francisco",
  skill: "progress-bar custom-progress-width bg-success w-25",
  progress: "25%",
  extn: 2360,
  email: "c.hurst@datatables.net"
}, {
  img: "assets/images/user/2.png",
  name: "Sonya Frost",
  position: "Software Engineer",
  salary: "$103,600",
  office: "Edinburgh",
  skill: "progress-bar custom-progress-width bg-primary w-40",
  progress: "40%",
  extn: 1667,
  email: "s.frost@datatables.net"
}, {
  img: "assets/images/user/3.jpg",
  name: "Jena Gaines",
  position: "Office Manager",
  salary: "$90,560",
  office: "London",
  skill: "progress-bar custom-progress-width bg-warning w-57",
  progress: "57%",
  extn: 3814,
  email: "j.gaines@datatables.net"
}, {
  img: "assets/images/user/4.jpg",
  name: "Quinn Flynn",
  position: "Support Lead",
  salary: "$342,000",
  office: "Edinburgh",
  skill: "progress-bar custom-progress-width bg-danger w-50",
  progress: "50%",
  extn: 9497,
  email: "q.flynn@datatables.net"
}, {
  img: "assets/images/user/5.jpg",
  name: "Charde Marshall",
  position: "Regional Director",
  salary: "$470,600",
  office: "San Francisco",
  skill: "progress-bar custom-progress-width bg-info w-27",
  progress: "27%",
  extn: 6741,
  email: "c.marshall@datatables.net"
}, {
  img: "assets/images/user/6.jpg",
  name: "Haley Kennedy",
  position: "Senior Marketing Designer",
  salary: "$313,500",
  office: "London",
  skill: "progress-bar custom-progress-width bg-success w-35",
  progress: "35%",
  extn: 3597,
  email: "h.kennedy@datatables.net"
}, {
  img: "assets/images/user/7.jpg",
  name: "Tatyana Fitzpatrick",
  position: "Regional Director",
  salary: "$385,750",
  office: "London",
  skill: "progress-bar custom-progress-width bg-warning w-80",
  progress: "80%",
  extn: 1965,
  email: "t.fitzpatrick@datatables.net"
}, {
  img: "assets/images/user/8.jpg",
  name: "Michael Silva",
  position: "Marketing Designer",
  salary: "$198,500",
  office: "London",
  skill: "progress-bar custom-progress-width bg-primary w-74",
  progress: "74%",
  extn: 1581,
  email: "m.silva@datatables.net"
}, {
  img: "assets/images/user/9.jpg",
  name: "Michael Silva",
  position: "Paul Byrd",
  salary: "Chief Financial Officer (CFO)",
  office: "$725,000",
  skill: "progress-bar custom-progress-width bg-ress-bar w-30 bg-success",
  progress: "30%",
  extn: 3059,
  email: "p.byrd@datatables.net"
}, {
  img: "assets/images/user/10.jpg",
  name: "Gloria Little",
  position: "Systems Administrator",
  salary: "$237,500",
  office: "New York",
  skill: "progress-bar custom-progress-width bg-success w-50",
  progress: "50%",
  extn: 1721,
  email: "g.little@datatables.net"
}, {
  img: "assets/images/user/2.png",
  name: "Bradley Greer",
  position: "Software Engineer",
  salary: "$132,000",
  office: "London",
  skill: "progress-bar custom-progress-width bg-primary w-30",
  progress: "30%",
  extn: 2558,
  email: "b.greer@datatables.net"
}, {
  img: "assets/images/user/5.jpg",
  name: "Michael Silva",
  position: "Dai Rios",
  salary: "Personnel Lead",
  office: "$217,500",
  skill: "progress-bar custom-progress-width  bg-warning w-40",
  progress: "40%",
  extn: 2290,
  email: "d.rios@datatables.net"
}, {
  img: "assets/images/user/1.jpg",
  name: "Jenette Caldwell",
  position: "Development Lead",
  salary: "$345,000",
  office: "New York",
  skill: "progress-bar custom-progress-width bg-primary w-30",
  progress: "80%",
  extn: 1937,
  email: "j.caldwell@datatables.net"
}, {
  img: "assets/images/user/2.png",
  name: "Yuri Berry",
  position: "Chief Marketing Officer (CMO)",
  salary: "$675,000",
  office: "New York",
  skill: "progress-bar custom-progress-width bg-danger w-20",
  progress: "30%",
  extn: 6154,
  email: "y.berry@datatables.net"
}, {
  img: "assets/images/user/3.jpg",
  name: "C",
  position: "Pre-Sales Support",
  salary: "$106,450",
  office: "New York",
  skill: "progress-bar custom-progress-width bg-success w-10",
  progress: "70%",
  extn: 8330,
  email: "c.vance@datatables.net"
}];

/***/ }),

/***/ 26730:
/*!***********************************************************!*\
  !*** ./src/app/shared/services/support-ticket.service.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SupportTicketService: () => (/* binding */ SupportTicketService)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 58071);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ 72513);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ 84980);
/* harmony import */ var _shared_data_tables_support_ticket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/data/tables/support-ticket */ 52109);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ 13738);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ 50655);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ 81891);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ 77592);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 61699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 26575);





const compare = (v1, v2) => v1 < v2 ? -1 : v1 > v2 ? 1 : 0;
function sort(support, column, direction) {
  if (direction === '' || column === '') {
    return support;
  } else {
    return [...support].sort((a, b) => {
      const res = compare(a[column], b[column]);
      return direction === 'asc' ? res : -res;
    });
  }
}
function matches(ticket, term, pipe) {
  return ticket.name.toLowerCase().includes(term.toLowerCase()) || pipe.transform(ticket.extn).includes(term);
}
class SupportTicketService {
  constructor(pipe) {
    this.pipe = pipe;
    this._loading$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject(true);
    this._search$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__.Subject();
    this._support$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject([]);
    this._total$ = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject(0);
    this._state = {
      page: 1,
      pageSize: 10,
      searchTerm: '',
      sortColumn: '',
      sortDirection: ''
    };
    this._search$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(() => this._loading$.next(true)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.debounceTime)(200), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.switchMap)(() => this._search()), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.delay)(200), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(() => this._loading$.next(false))).subscribe(result => {
      this._support$.next(result.support);
      this._total$.next(result.total);
    });
    this._search$.next();
  }
  get support$() {
    return this._support$.asObservable();
  }
  get total$() {
    return this._total$.asObservable();
  }
  get loading$() {
    return this._loading$.asObservable();
  }
  get page() {
    return this._state.page;
  }
  get pageSize() {
    return this._state.pageSize;
  }
  get searchTerm() {
    return this._state.searchTerm;
  }
  set page(page) {
    this._set({
      page
    });
  }
  set pageSize(pageSize) {
    this._set({
      pageSize
    });
  }
  set searchTerm(searchTerm) {
    this._set({
      searchTerm
    });
  }
  set sortColumn(sortColumn) {
    this._set({
      sortColumn
    });
  }
  set sortDirection(sortDirection) {
    this._set({
      sortDirection
    });
  }
  _set(patch) {
    Object.assign(this._state, patch);
    this._search$.next();
  }
  _search() {
    const {
      sortColumn,
      sortDirection,
      pageSize,
      page,
      searchTerm
    } = this._state;
    // 1. sort
    let support = sort(_shared_data_tables_support_ticket__WEBPACK_IMPORTED_MODULE_0__.SUPPORTDB, sortColumn, sortDirection);
    // 2. filter
    support = support.filter(ticket => matches(ticket, searchTerm, this.pipe));
    const total = support.length;
    // 3. paginate
    support = support.slice((page - 1) * pageSize, (page - 1) * pageSize + pageSize);
    return (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)({
      support,
      total
    });
  }
  static #_ = this.ɵfac = function SupportTicketService_Factory(t) {
    return new (t || SupportTicketService)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵinject"](_angular_common__WEBPACK_IMPORTED_MODULE_9__.DecimalPipe));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineInjectable"]({
    token: SupportTicketService,
    factory: SupportTicketService.ɵfac,
    providedIn: 'root'
  });
}

/***/ })

}]);
//# sourceMappingURL=default-src_app_shared_services_support-ticket_service_ts.53e9da1289c31263.js.map